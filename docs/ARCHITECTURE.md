# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –°–ü–ê–†–ö–û–ú

## –û–±—â–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         –ö–õ–ò–ï–ù–¢ (Browser)                        ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ           React SPA (Vite + TypeScript)                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                                                           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ React Router (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)                              ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Tailwind CSS + shadcn/ui (UI)                         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Fetch API (HTTP –∫–ª–∏–µ–Ω—Ç)                               ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ localStorage (JWT —Ç–æ–∫–µ–Ω—ã)                             ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üì HTTPS
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    CDN (cdn.poehali.dev)                        ‚îÇ
‚îÇ                   ‚Ä¢ –°—Ç–∞—Ç–∏–∫–∞ (HTML, JS, CSS, images)            ‚îÇ
‚îÇ                   ‚Ä¢ SSL —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              API Gateway (functions.poehali.dev)                ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚Ä¢ –ú–∞–ø–ø–∏–Ω–≥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (Authorization ‚Üí X-Authorization)        ‚îÇ
‚îÇ  ‚Ä¢ Rate limiting                                               ‚îÇ
‚îÇ  ‚Ä¢ Routing –∫ Cloud Functions                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 Yandex Cloud Functions (Backend)                ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ  /auth   ‚îÇ  ‚îÇ  /users  ‚îÇ  ‚îÇ  /roles  ‚îÇ  ‚îÇ /catalog ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ login  ‚îÇ  ‚îÇ ‚Ä¢ me     ‚îÇ  ‚îÇ ‚Ä¢ apply  ‚îÇ  ‚îÇ ‚Ä¢ list   ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ reg    ‚îÇ  ‚îÇ ‚Ä¢ update ‚îÇ  ‚îÇ ‚Ä¢ my     ‚îÇ  ‚îÇ ‚Ä¢ get    ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ ref    ‚îÇ  ‚îÇ ‚Ä¢ get    ‚îÇ  ‚îÇ ‚Ä¢ admin  ‚îÇ  ‚îÇ ‚Ä¢ search ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ /events  ‚îÇ  ‚îÇ/bookings ‚îÇ  ‚îÇ/payments ‚îÇ  ‚îÇ  /admin  ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ list   ‚îÇ  ‚îÇ ‚Ä¢ create ‚îÇ  ‚îÇ ‚Ä¢ create ‚îÇ  ‚îÇ ‚Ä¢ stats  ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ create ‚îÇ  ‚îÇ ‚Ä¢ my     ‚îÇ  ‚îÇ ‚Ä¢ verify ‚îÇ  ‚îÇ ‚Ä¢ manage ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ join   ‚îÇ  ‚îÇ ‚Ä¢ cancel ‚îÇ  ‚îÇ ‚Ä¢ refund ‚îÇ  ‚îÇ ‚Ä¢ logs   ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ               PostgreSQL 14+ (Managed Database)                 ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚Ä¢ users, user_roles, role_applications                        ‚îÇ
‚îÇ  ‚Ä¢ bathhouses, masters, events                                 ‚îÇ
‚îÇ  ‚Ä¢ bookings, payments, reviews                                 ‚îÇ
‚îÇ  ‚Ä¢ blog_posts, comments                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Yandex Object Storage (S3-compatible)                 ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚Ä¢ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –±–∞–Ω—å                                             ‚îÇ
‚îÇ  ‚Ä¢ –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π                                       ‚îÇ
‚îÇ  ‚Ä¢ –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –º–∞—Å—Ç–µ—Ä–æ–≤                                          ‚îÇ
‚îÇ  ‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç—ã (–¥–æ–≥–æ–≤–æ—Ä—ã, –∞–∫—Ç—ã)                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. **API-First –ø–æ–¥—Ö–æ–¥**
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–¥—É—Ç —á–µ—Ä–µ–∑ REST API
- Frontend ‚Äî ¬´—Ç–æ–Ω–∫–∏–π –∫–ª–∏–µ–Ω—Ç¬ª, —Ç–æ–ª—å–∫–æ UI –ª–æ–≥–∏–∫–∞
- Backend ‚Äî –≤—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º

### 2. **Serverless Backend**
- –ö–∞–∂–¥–∞—è Cloud Function ‚Äî –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ
- –û–ø–ª–∞—Ç–∞ —Ç–æ–ª—å–∫–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 3. **Stateless Backend**
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ë–î –∏ localStorage (JWT)
- –§—É–Ω–∫—Ü–∏–∏ –Ω–µ —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –£–ø—Ä–æ—â–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ recovery

### 4. **Single Page Application**
- –û–¥–∏–Ω HTML, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- Client-side routing (React Router)
- –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
sparkom/
‚îú‚îÄ‚îÄ src/                          # Frontend (React)
‚îÇ   ‚îú‚îÄ‚îÄ components/               # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                  # shadcn/ui –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RoleSwitcher.tsx
‚îÇ   ‚îú‚îÄ‚îÄ pages/                   # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AccountPage.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ApplyRolePage.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin/              # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ types/                   # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                  # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç + —Ä–æ—É—Ç–∏–Ω–≥
‚îÇ   ‚îî‚îÄ‚îÄ main.tsx                 # Entry point
‚îú‚îÄ‚îÄ backend/                     # Cloud Functions (Python)
‚îÇ   ‚îú‚îÄ‚îÄ auth/                    # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tests.json
‚îÇ   ‚îú‚îÄ‚îÄ users/                   # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ roles/                   # –†–æ–ª–∏ –∏ –∑–∞—è–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ catalog/                 # –ö–∞—Ç–∞–ª–æ–≥ (–±–∞–Ω–∏, –º–∞—Å—Ç–µ—Ä–∞)
‚îÇ   ‚îú‚îÄ‚îÄ events/                  # –°–æ–±—ã—Ç–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ bookings/                # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ payments/                # –ü–ª–∞—Ç–µ–∂–∏
‚îÇ   ‚îî‚îÄ‚îÄ func2url.json           # –ú–∞–ø–ø–∏–Ω–≥ —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ URL
‚îú‚îÄ‚îÄ db_migrations/               # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ V1__initial_schema.sql
‚îÇ   ‚îú‚îÄ‚îÄ V2__add_roles.sql
‚îÇ   ‚îî‚îÄ‚îÄ V3__add_catalog.sql
‚îú‚îÄ‚îÄ docs/                        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ PHASE_0.1_CHECKLIST.md
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md
‚îÇ   ‚îî‚îÄ‚îÄ API.md
‚îî‚îÄ‚îÄ public/                      # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (JWT)

```
1. POST /backend/auth/login ‚Üí { access_token, refresh_token }
2. –ö–ª–∏–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–∫–µ–Ω—ã –≤ localStorage
3. –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å: Authorization: Bearer {access_token}
4. API Gateway –º–∞–ø–ø–∏—Ç: Authorization ‚Üí X-Authorization
5. Cloud Function —á–∏—Ç–∞–µ—Ç: event['headers']['X-Authorization']
6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ ‚Üí –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ user_id
7. –î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º
```

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫

- **CORS:** –ù–∞—Å—Ç—Ä–æ–µ–Ω OPTIONS handling –≤ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- **Rate Limiting:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ auth endpoints
- **SQL Injection:** –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (psycopg2)
- **XSS:** React –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥
- **CSRF:** SameSite cookies + JWT –≤–º–µ—Å—Ç–æ —Å–µ—Å—Å–∏–π

---

## –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ)
- Cloud Functions –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è Yandex Cloud
- PostgreSQL ‚Äî managed service —Å –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- CDN ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ Cloud Functions
- –ê–ø–≥—Ä–µ–π–¥ —Ç–∞—Ä–∏—Ñ–∞ PostgreSQL (CPU, RAM, IOPS)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ read-—Ä–µ–ø–ª–∏–∫ –ë–î –¥–ª—è —á—Ç–µ–Ω–∏—è

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (Redis)
- CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏ –∏ API responses
- –ò–Ω–¥–µ–∫—Å—ã –ë–î –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (React.lazy)

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏
- **Frontend:** Console errors ‚Üí Sentry
- **Backend:** Cloud Functions logs ‚Üí Yandex Cloud Logging
- **–ë–î:** Slow queries log ‚Üí PostgreSQL logs

### –ú–µ—Ç—Ä–∏–∫–∏
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** Yandex.Metrica, Web Vitals
- **–û—à–∏–±–∫–∏:** Sentry (JS errors, API 5xx)
- **–ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏:** Custom events (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø–ª–∞—Ç–µ–∂–∏)

### –ê–ª–µ—Ä—Ç—ã
- 5xx –æ—à–∏–±–æ–∫ > 1% ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
- Response time > 3s ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- DB connections > 80% ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

---

## –û–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | dev | stage | prod |
|----------|-----|-------|------|
| **–î–æ–º–µ–Ω** | localhost:5173 | stage.sparkom.ru | sparkom.ru |
| **–ë–î** | Shared dev DB | –û—Ç–¥–µ–ª—å–Ω–∞—è –ë–î | Production –ë–î |
| **–§—É–Ω–∫—Ü–∏–∏** | Auto-deploy | Auto-deploy | Manual deploy |
| **–ü–ª–∞—Ç–µ–∂–∏** | Mock / Sandbox | Sandbox | Production |
| **–õ–æ–≥–∏** | Console + Files | Yandex Logging | Yandex Logging + Sentry |
| **SSL** | –ù–µ—Ç | –î–∞ | –î–∞ |

---

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Frontend
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
npm run dev

# Production build
npm run build
# ‚Üí dist/ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ CDN –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### Backend Functions
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ poehali.dev
# 1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º /backend/{function}/index.py
# 2. –í—ã–∑—ã–≤–∞–µ–º sync_backend tool
# 3. –§—É–Ω–∫—Ü–∏—è –¥–µ–ø–ª–æ–∏—Ç—Å—è –≤ Yandex Cloud
# 4. URL –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ func2url.json
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
# –ú–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ migrate_db tool
# 1. –°–æ–∑–¥–∞—ë–º SQL —Ñ–∞–π–ª
# 2. –í—ã–∑—ã–≤–∞–µ–º migrate_db(migration_content, migration_name)
# 3. –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è + —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ db_migrations/
```

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### –ü–æ—á–µ–º—É React, –∞ –Ω–µ Vue?
- ‚úÖ –ë–æ–ª–µ–µ –∑—Ä–µ–ª–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (shadcn/ui)
- ‚úÖ –õ—É—á—à–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–º–∞–Ω–¥ (TypeScript support)
- ‚úÖ –ü—Ä–æ—â–µ –Ω–∞–π—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ü–æ—á–µ–º—É Cloud Functions, –∞ –Ω–µ Django?
- ‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–µ—Ä–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –û–ø–ª–∞—Ç–∞ —Ç–æ–ª—å–∫–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π (–æ–¥–∏–Ω —Å–ª–æ–º–∞–ª—Å—è ‚Üí –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç)

### –ü–æ—á–µ–º—É PostgreSQL, –∞ –Ω–µ MongoDB?
- ‚úÖ ACID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π)
- ‚úÖ –°–ª–æ–∂–Ω—ã–µ JOIN –∑–∞–ø—Ä–æ—Å—ã (—Å–æ–±—ã—Ç–∏—è + —É—á–∞—Å—Ç–Ω–∏–∫–∏ + –±–∞–Ω–∏)
- ‚úÖ –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (–º–µ–Ω—å—à–µ –±–∞–≥–æ–≤)
- ‚úÖ –ó—Ä–µ–ª—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–π

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

| –°–µ—Ä–≤–∏—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ |
|--------|----------|-------------|--------------|
| Yandex Cloud | –•–æ—Å—Ç–∏–Ω–≥ —Ñ—É–Ω–∫—Ü–∏–π | –í—ã—Å–æ–∫–∞—è | AWS Lambda, GCP |
| PostgreSQL | –ë–î | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è | MySQL, CockroachDB |
| Yandex Object Storage | –§–∞–π–ª—ã | –°—Ä–µ–¥–Ω—è—è | AWS S3, Cloudflare R2 |
| Sentry | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | –ù–∏–∑–∫–∞—è | Self-hosted, Rollbar |
| Yandex.Metrica | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ | –ù–∏–∑–∫–∞—è | Google Analytics |

---

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|------------|-----------|
| –û—Ç–∫–∞–∑ Cloud Functions | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | Multi-region deploy, –±—ã—Å—Ç—Ä—ã–π rollback |
| –ü–∞–¥–µ–Ω–∏–µ –ë–î | –ù–∏–∑–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | –ê–≤—Ç–æ–±—ç–∫–∞–ø—ã –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤, read-—Ä–µ–ø–ª–∏–∫–∏ |
| DDoS –∞—Ç–∞–∫–∞ | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | Rate limiting, Yandex DDoS Protection |
| –£—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö | –ù–∏–∑–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –∞—É–¥–∏—Ç –¥–æ—Å—Ç—É–ø–∞, RBAC |
| –†–æ—Å—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ |

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
2. ‚¨ú –°–æ–∑–¥–∞—Ç—å ER-–¥–∏–∞–≥—Ä–∞–º–º—É (dbdiagram.io)
3. ‚¨ú –ù–∞–ø–∏—Å–∞—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
4. ‚¨ú –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Sentry –¥–ª—è production
5. ‚¨ú –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ auth
6. ‚¨ú –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å refresh token –º–µ—Ö–∞–Ω–∏–∑–º
7. ‚¨ú –°–æ–∑–¥–∞—Ç—å Admin API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏
